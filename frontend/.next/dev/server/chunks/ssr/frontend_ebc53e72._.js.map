{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/lib/grades.ts"],"sourcesContent":["export function scoreToLetter(score: number): string {\n  if (score >= 90) return \"A\"\n  if (score >= 80) return \"B\"\n  if (score >= 70) return \"C\"\n  if (score >= 60) return \"D\"\n  return \"F\"\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,cAAc,KAAa;IACzC,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,OAAO;AACT"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/lib/subjects.ts"],"sourcesContent":["export const SUBJECTS = [\n  \"ENGLISH\",\n  \"KISWAHILI\",\n  \"MATHEMATICS\",\n  \"BIOLOGY\",\n  \"PHYSICS\",\n  \"CHEMISTRY\",\n  \"HISTORY AND GOVERNMENT\",\n  \"GEOGRAPHY\",\n  \"CHRISTIAN RELIGIOUS EDUCATION\",\n  \"BUSINESS STUDIES\",\n  \"AGRICULTURE\",\n] as const\n\nexport type Subject = (typeof SUBJECTS)[number]\n"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/app/student/page.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { useEffect, useState } from \"react\"\nimport { scoreToLetter } from \"@/lib/grades\"\nimport { SUBJECTS } from \"@/lib/subjects\"\nimport { StudentRecord } from \"@/types/student\"\n\nconst LOCAL_FALLBACK_API = \"http://localhost:8080/api\"\n\nexport default function StudentPage() {\n  const [apiBase, setApiBase] = useState(process.env.NEXT_PUBLIC_API_BASE ?? LOCAL_FALLBACK_API)\n  const [records, setRecords] = useState<StudentRecord[]>([])\n  const [error, setError] = useState<string | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [filter, setFilter] = useState(\"\")\n\n  useEffect(() => {\n    if (!process.env.NEXT_PUBLIC_API_BASE && typeof window !== \"undefined\") {\n      const { protocol, hostname } = window.location\n      setApiBase(`${protocol}//${hostname}:8080/api`)\n    }\n  }, [])\n\n  useEffect(() => {\n    const fetchRecords = async () => {\n      setLoading(true)\n      setError(null)\n      try {\n        const response = await fetch(`${apiBase}/students`)\n        if (!response.ok) {\n          throw new Error(\"Unable to load records\")\n        }\n        const data: StudentRecord[] = await response.json()\n        setRecords(data)\n      } catch (err) {\n        const message = err instanceof Error ? err.message : \"Unable to load records\"\n        setError(message)\n        console.error(\"Load student records error\", err)\n      } finally {\n        setLoading(false)\n      }\n    }\n    fetchRecords()\n  }, [apiBase])\n\n  const normalizedQuery = filter.trim().toLowerCase()\n  const record = normalizedQuery\n    ? records.find(\n        (student) =>\n          student.name.toLowerCase() === normalizedQuery || student.email?.toLowerCase() === normalizedQuery,\n      )\n    : null\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-white p-6\">\n      <div className=\"mx-auto max-w-4xl space-y-8\">\n        <header className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n          <div>\n            <p className=\"text-xs uppercase tracking-wide text-slate-500\">Student records</p>\n            <h1 className=\"text-3xl font-bold text-slate-900\">Track GPA and subject marks</h1>\n            <p className=\"text-slate-600\">\n              Enter your registered name or email exactly as provided to the institution.\n            </p>\n          </div>\n          <Link href=\"/\" className=\"inline-flex items-center text-sm font-semibold text-indigo-600\">\n            ← Back to portal\n          </Link>\n        </header>\n        <div>\n          <label htmlFor=\"Lookup\" className=\"text-xs uppercase tracking-wide text-slate-500\">\n            Lookup name or email\n          </label>\n          <input\n            id=\"Lookup\"\n            type=\"text\"\n            placeholder=\"Jane Doe / jane@email.com\"\n            value={filter}\n            onChange={(event) => setFilter(event.target.value)}\n            className=\"mt-2 w-full rounded-full border border-slate-300 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          />\n        </div>\n        {error && <p className=\"rounded-lg bg-red-50 p-3 text-sm text-red-600\">{error}</p>}\n        {loading && <p className=\"text-slate-500\">Loading your transcript…</p>}\n        {!loading && records.length === 0 && (\n          <p className=\"text-slate-500\">No student records yet. Ask an instructor to register you.</p>\n        )}\n        {!loading && records.length > 0 && !normalizedQuery && (\n          <p className=\"text-slate-500\">Type your full registered name or email above to view your grades.</p>\n        )}\n        {!loading && normalizedQuery && !record && (\n          <p className=\"text-slate-500\">\n            Could not find a student named {filter || \"that entry\"}. Double-check spelling or confirm registration with a\n            teacher.\n          </p>\n        )}\n        {record && (\n          <section className=\"space-y-6\">\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\">\n              <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\n                <div>\n                  <p className=\"text-xs uppercase tracking-wide text-slate-500\">Student</p>\n                  <h2 className=\"text-2xl font-semibold text-slate-900\">{record.name}</h2>\n                  <p className=\"text-sm text-slate-500\">{record.email ?? \"No email on file\"}</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-xs text-slate-500\">Current GPA</p>\n                  <p className=\"text-3xl font-bold text-indigo-600\">{record.gpa.toFixed(2)}</p>\n                  <p className=\"text-sm text-slate-500\">{record.letterGrade}</p>\n                </div>\n              </div>\n            </div>\n            {SUBJECTS.map((subject) => {\n              const mark = record.subjectMarks?.[subject] ?? 0\n              const letter = scoreToLetter(mark)\n              return (\n                <div key={`${record.id}-${subject}`} className=\"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-xs uppercase tracking-wide text-slate-500\">Subject</p>\n                      <h3 className=\"text-2xl font-semibold text-slate-900\">{subject}</h3>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-xs text-slate-500\">Score</p>\n                      <p className=\"text-3xl font-bold text-indigo-600\">{Math.round(mark)}</p>\n                    </div>\n                  </div>\n                  <div className=\"mt-4 flex items-center justify-between border-t border-slate-100 pt-4\">\n                    <div>\n                      <p className=\"text-xs text-slate-500\">Letter grade</p>\n                      <p className=\"text-lg font-semibold\">{letter}</p>\n                    </div>\n                    <p className=\"text-xs text-slate-400\">Updated when teachers upload scores</p>\n                  </div>\n                </div>\n              )\n            })}\n          </section>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}