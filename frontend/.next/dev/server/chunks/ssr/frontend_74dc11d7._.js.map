{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,kLAAO,EAAC,IAAA,yJAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,mLAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,oLAAI,GAAG;IAE9B,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,0PAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,8HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/lib/subjects.ts"],"sourcesContent":["export const SUBJECTS = [\n  \"ENGLISH\",\n  \"KISWAHILI\",\n  \"MATHEMATICS\",\n  \"BIOLOGY\",\n  \"PHYSICS\",\n  \"CHEMISTRY\",\n  \"HISTORY AND GOVERNMENT\",\n  \"GEOGRAPHY\",\n  \"CHRISTIAN RELIGIOUS EDUCATION\",\n  \"BUSINESS STUDIES\",\n  \"AGRICULTURE\",\n] as const\n\nexport type Subject = (typeof SUBJECTS)[number]\n"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/components/AddStudentForm.tsx"],"sourcesContent":["\"use client\"\n\nimport { FormEvent, useMemo, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { SUBJECTS } from \"@/lib/subjects\"\nimport { StudentRecord } from \"@/types/student\"\n\ninterface AddStudentFormProps {\n  apiBase: string\n  onAdd: (student: StudentRecord) => void\n}\n\nconst emptyMarks = () =>\n  SUBJECTS.reduce<Record<string, string>>((acc, subject) => {\n    acc[subject] = \"\"\n    return acc\n  }, {})\n\nexport default function AddStudentForm({ apiBase, onAdd }: AddStudentFormProps) {\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [subjectMarks, setSubjectMarks] = useState<Record<string, string>>(emptyMarks)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const subjectPairs = useMemo(() => {\n    const pairs: Array<[string, string]> = []\n    for (let i = 0; i < SUBJECTS.length; i += 2) {\n      pairs.push([SUBJECTS[i], SUBJECTS[i + 1] ?? \"\"])\n    }\n    return pairs\n  }, [])\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    if (!name.trim()) {\n      setError(\"Student name is required\")\n      return\n    }\n\n    setLoading(true)\n    setError(null)\n\n    const payloadMarks = Object.entries(subjectMarks).reduce<Record<string, number>>((acc, [subject, value]) => {\n      if (value.trim() === \"\") return acc\n      const score = Number(value)\n      if (!Number.isNaN(score)) {\n        acc[subject] = Math.min(100, Math.max(0, score))\n      }\n      return acc\n    }, {})\n\n    try {\n      const response = await fetch(`${apiBase}/students`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ name, email: email.trim() || null, subjectMarks: payloadMarks }),\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Failed to add student\")\n      }\n\n      const student: StudentRecord = await response.json()\n      onAdd(student)\n      setName(\"\")\n      setEmail(\"\")\n      setSubjectMarks(emptyMarks())\n    } catch (err) {\n      const message = err instanceof Error ? err.message : \"Unable to add student\"\n      console.error(\"Add student error\", err)\n      setError(message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleMarkChange = (subject: string, value: string) => {\n    setSubjectMarks((prev) => ({ ...prev, [subject]: value }))\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\n      <div className=\"mb-4\">\n        <p className=\"text-sm text-slate-500\">Teacher console</p>\n        <h2 className=\"text-xl font-bold text-gray-900\">Register or update a student</h2>\n      </div>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <Input\n          type=\"text\"\n          placeholder=\"Student name\"\n          value={name}\n          onChange={(event) => setName(event.target.value)}\n          disabled={loading}\n        />\n        <Input\n          type=\"email\"\n          placeholder=\"Student email (optional)\"\n          value={email}\n          onChange={(event) => setEmail(event.target.value)}\n          disabled={loading}\n        />\n        <div className=\"space-y-3\">\n          <p className=\"text-sm font-medium text-slate-600\">Initial subject marks</p>\n          {subjectPairs.map(([left, right]) => (\n            <div key={left} className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n              <div>\n                <label className=\"text-xs text-slate-500 block mb-1\">{left}</label>\n                <Input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"100\"\n                  placeholder=\"Score\"\n                  value={subjectMarks[left]}\n                  onChange={(event) => handleMarkChange(left, event.target.value)}\n                  disabled={loading}\n                />\n              </div>\n              {right && (\n                <div>\n                  <label className=\"text-xs text-slate-500 block mb-1\">{right}</label>\n                  <Input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    placeholder=\"Score\"\n                    value={subjectMarks[right]}\n                    onChange={(event) => handleMarkChange(right, event.target.value)}\n                    disabled={loading}\n                  />\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n        <Button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-700 text-white\" disabled={loading}>\n          {loading ? \"Saving student...\" : \"Save student\"}\n        </Button>\n      </form>\n      {error && <p className=\"text-red-500 mt-3 text-sm\">{error}</p>}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/lib/grades.ts"],"sourcesContent":["export function scoreToLetter(score: number): string {\n  if (score >= 90) return \"A\"\n  if (score >= 80) return \"B\"\n  if (score >= 70) return \"C\"\n  if (score >= 60) return \"D\"\n  return \"F\"\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,cAAc,KAAa;IACzC,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,OAAO;AACT"}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/components/StudentDetails.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { scoreToLetter } from \"@/lib/grades\"\nimport { SUBJECTS } from \"@/lib/subjects\"\nimport { StudentRecord } from \"@/types/student\"\n\ninterface StudentDetailsProps {\n  student: StudentRecord\n  onUpdateSubject: (subject: string, mark: number) => Promise<void> | void\n}\n\nexport default function StudentDetails({ student, onUpdateSubject }: StudentDetailsProps) {\n  const [subjectInputs, setSubjectInputs] = useState<Record<string, string>>(() => mapMarks(student.subjectMarks))\n  const [pendingSubject, setPendingSubject] = useState<string | null>(null)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    setSubjectInputs(mapMarks(student.subjectMarks))\n    setPendingSubject(null)\n    setError(null)\n  }, [student])\n\n  const handleSubjectChange = (subject: string, value: string) => {\n    setSubjectInputs((prev) => ({ ...prev, [subject]: value }))\n  }\n\n  const handleSubjectSave = async (subject: string) => {\n    const value = subjectInputs[subject]?.trim()\n    if (!value) {\n      setError(\"Enter a score before saving\")\n      return\n    }\n\n    const numericScore = Number(value)\n    if (Number.isNaN(numericScore)) {\n      setError(\"Marks must be numeric\")\n      return\n    }\n\n    setPendingSubject(subject)\n    setError(null)\n    try {\n      await onUpdateSubject(subject, Math.min(100, Math.max(0, numericScore)))\n    } catch (err) {\n      const message = err instanceof Error ? err.message : \"Unable to update mark\"\n      setError(message)\n    } finally {\n      setPendingSubject(null)\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-8 space-y-6\">\n      <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\n        <div>\n          <p className=\"text-xs text-slate-500 uppercase tracking-wide\">Selected student</p>\n          <h2 className=\"text-3xl font-bold text-gray-900\">{student.name}</h2>\n          {student.email && <p className=\"text-sm text-slate-500\">{student.email}</p>}\n          <p className=\"text-xs text-slate-500\">ID: {student.id}</p>\n        </div>\n        <div className=\"text-right\">\n          <p className=\"text-sm text-slate-500\">Current GPA</p>\n          <p className=\"text-4xl font-bold text-blue-600\">{student.gpa.toFixed(2)}</p>\n          <p className=\"text-sm font-semibold text-slate-700\">{student.letterGrade}</p>\n        </div>\n      </div>\n      <div>\n        <p className=\"text-sm text-slate-500 mb-2\">Per subject marks</p>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          {SUBJECTS.map((subject) => {\n            const mark = student.subjectMarks?.[subject] ?? null\n            const letter = mark == null ? \"-\" : scoreToLetter(mark)\n            return (\n              <div key={`${student.id}-${subject}`} className=\"rounded-lg border border-slate-200 p-4 space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-xs text-slate-500 uppercase tracking-wide\">{subject}</p>\n                    <p className=\"text-2xl font-semibold text-slate-900\">{mark == null ? \"—\" : Math.round(mark)}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-xs text-slate-500\">Letter</p>\n                    <p className=\"text-lg font-semibold\">{letter}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={subjectInputs[subject] ?? \"\"}\n                    onChange={(event) => handleSubjectChange(subject, event.target.value)}\n                  />\n                  <Button\n                    onClick={() => handleSubjectSave(subject)}\n                    disabled={pendingSubject === subject}\n                    className=\"whitespace-nowrap\"\n                  >\n                    {pendingSubject === subject ? \"Saving...\" : \"Save\"}\n                  </Button>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n        {error && <p className=\"text-red-500 text-sm mt-3\">{error}</p>}\n      </div>\n    </div>\n  )\n}\n\nfunction mapMarks(marks: Record<string, number> | undefined) {\n  return SUBJECTS.reduce<Record<string, string>>((acc, subject) => {\n    const value = marks?.[subject]\n    acc[subject] = value != null ? String(value) : \"\"\n    return acc\n  }, {})\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 691, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/components/StudentList.tsx"],"sourcesContent":["\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { StudentRecord } from \"@/types/student\"\n\ninterface StudentListProps {\n  students: StudentRecord[]\n  selectedId?: string\n  onSelect: (student: StudentRecord) => void\n  onRemove: (id: string) => void\n  loading: boolean\n}\n\nexport default function StudentList({ students, selectedId, onSelect, onRemove, loading }: StudentListProps) {\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <div>\n          <p className=\"text-xs uppercase tracking-wide text-slate-500\">Roster</p>\n          <h2 className=\"text-xl font-bold text-gray-900\">Students ({students.length})</h2>\n        </div>\n      </div>\n      <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n        {loading ? (\n          <p className=\"text-gray-500\">Loading students…</p>\n        ) : students.length === 0 ? (\n          <p className=\"text-gray-500\">No students yet</p>\n        ) : (\n          students.map((student) => (\n            <div\n              key={student.id}\n              className={`p-3 rounded-lg cursor-pointer transition-colors border ${\n                selectedId === student.id\n                  ? \"bg-blue-50 border-blue-500\"\n                  : \"bg-slate-50 border-transparent hover:border-slate-200\"\n              }`}\n              onClick={() => onSelect(student)}\n            >\n              <div className=\"flex justify-between items-start gap-3\">\n                <div>\n                  <p className=\"font-semibold text-gray-900\">{student.name}</p>\n                  {student.email && <p className=\"text-xs text-slate-500\">{student.email}</p>}\n                  <p className=\"text-xs text-slate-500\">ID: {student.id}</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-sm font-semibold text-blue-600\">GPA {student.gpa.toFixed(2)}</p>\n                  <p className=\"text-xs text-slate-500\">{student.letterGrade}</p>\n                </div>\n              </div>\n              <div className=\"mt-3 flex items-center justify-between\">\n                <p className=\"text-xs text-slate-500\">\n                  Updated subjects: {Object.keys(student.subjectMarks ?? {}).length}\n                </p>\n                <Button\n                  onClick={(event) => {\n                    event.stopPropagation()\n                    onRemove(student.id)\n                  }}\n                  variant=\"destructive\"\n                  className=\"text-xs px-3 py-1 h-auto\"\n                >\n                  Remove\n                </Button>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAae,SAAS,YAAY,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAoB;IACzG,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAI,WAAU;0BACb,cAAA,0PAAC;;sCACC,0PAAC;4BAAE,WAAU;sCAAiD;;;;;;sCAC9D,0PAAC;4BAAG,WAAU;;gCAAkC;gCAAW,SAAS,MAAM;gCAAC;;;;;;;;;;;;;;;;;;0BAG/E,0PAAC;gBAAI,WAAU;0BACZ,wBACC,0PAAC;oBAAE,WAAU;8BAAgB;;;;;2BAC3B,SAAS,MAAM,KAAK,kBACtB,0PAAC;oBAAE,WAAU;8BAAgB;;;;;2BAE7B,SAAS,GAAG,CAAC,CAAC,wBACZ,0PAAC;wBAEC,WAAW,CAAC,uDAAuD,EACjE,eAAe,QAAQ,EAAE,GACrB,+BACA,yDACJ;wBACF,SAAS,IAAM,SAAS;;0CAExB,0PAAC;gCAAI,WAAU;;kDACb,0PAAC;;0DACC,0PAAC;gDAAE,WAAU;0DAA+B,QAAQ,IAAI;;;;;;4CACvD,QAAQ,KAAK,kBAAI,0PAAC;gDAAE,WAAU;0DAA0B,QAAQ,KAAK;;;;;;0DACtE,0PAAC;gDAAE,WAAU;;oDAAyB;oDAAK,QAAQ,EAAE;;;;;;;;;;;;;kDAEvD,0PAAC;wCAAI,WAAU;;0DACb,0PAAC;gDAAE,WAAU;;oDAAsC;oDAAK,QAAQ,GAAG,CAAC,OAAO,CAAC;;;;;;;0DAC5E,0PAAC;gDAAE,WAAU;0DAA0B,QAAQ,WAAW;;;;;;;;;;;;;;;;;;0CAG9D,0PAAC;gCAAI,WAAU;;kDACb,0PAAC;wCAAE,WAAU;;4CAAyB;4CACjB,OAAO,IAAI,CAAC,QAAQ,YAAY,IAAI,CAAC,GAAG,MAAM;;;;;;;kDAEnE,0PAAC,iJAAM;wCACL,SAAS,CAAC;4CACR,MAAM,eAAe;4CACrB,SAAS,QAAQ,EAAE;wCACrB;wCACA,SAAQ;wCACR,WAAU;kDACX;;;;;;;;;;;;;uBA9BE,QAAQ,EAAE;;;;;;;;;;;;;;;;AAwC7B"}},
    {"offset": {"line": 886, "column": 0}, "map": {"version":3,"sources":["file:///home/said/Desktop/grade-management-system/frontend/app/admin/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useCallback, useEffect, useRef, useState } from \"react\"\nimport Link from \"next/link\"\nimport AddStudentForm from \"@/components/AddStudentForm\"\nimport StudentDetails from \"@/components/StudentDetails\"\nimport StudentList from \"@/components/StudentList\"\nimport { StudentRecord } from \"@/types/student\"\n\nconst LOCAL_FALLBACK_API = \"http://localhost:8080/api\"\n\nexport default function AdminPage() {\n  const [apiBase, setApiBase] = useState(process.env.NEXT_PUBLIC_API_BASE ?? LOCAL_FALLBACK_API)\n  const [students, setStudents] = useState<StudentRecord[]>([])\n  const [selectedStudent, setSelectedStudent] = useState<StudentRecord | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const selectedStudentRef = useRef<StudentRecord | null>(null)\n\n  useEffect(() => {\n    if (!process.env.NEXT_PUBLIC_API_BASE && typeof window !== \"undefined\") {\n      const { protocol, hostname } = window.location\n      setApiBase(`${protocol}//${hostname}:8080/api`)\n    }\n  }, [])\n\n  useEffect(() => {\n    selectedStudentRef.current = selectedStudent\n  }, [selectedStudent])\n\n  const fetchStudents = useCallback(async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const response = await fetch(`${apiBase}/students`)\n      if (!response.ok) {\n        throw new Error(\"Failed to load students\")\n      }\n      const data: StudentRecord[] = await response.json()\n      setStudents(data)\n      if (selectedStudentRef.current) {\n        const updated = data.find((student) => student.id === selectedStudentRef.current?.id)\n        setSelectedStudent(updated ?? null)\n      }\n    } catch (err) {\n      const message = err instanceof Error ? err.message : \"Unable to fetch students\"\n      setError(message)\n      console.error(\"Fetch students error\", err)\n    } finally {\n      setLoading(false)\n    }\n  }, [apiBase])\n\n  useEffect(() => {\n    fetchStudents()\n  }, [fetchStudents])\n\n  const handleStudentCreated = (student: StudentRecord) => {\n    setStudents((prev) => [...prev, student])\n  }\n\n  const handleRemoveStudent = async (id: string) => {\n    try {\n      const response = await fetch(`${apiBase}/students/${id}`, { method: \"DELETE\" })\n      if (!response.ok) {\n        throw new Error(\"Failed to remove student\")\n      }\n      setStudents((prev) => prev.filter((student) => student.id !== id))\n      if (selectedStudentRef.current?.id === id) {\n        setSelectedStudent(null)\n      }\n    } catch (err) {\n      const message = err instanceof Error ? err.message : \"Unable to delete student\"\n      setError(message)\n      console.error(\"Remove student error\", err)\n    }\n  }\n\n  const handleSubjectUpdate = async (subject: string, mark: number) => {\n    if (!selectedStudentRef.current) return\n    const studentId = selectedStudentRef.current.id\n    const response = await fetch(`${apiBase}/students/${studentId}/subjects`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ subjectMarks: { [subject]: mark } }),\n    })\n    if (!response.ok) {\n      throw new Error(\"Failed to update subject mark\")\n    }\n    const updated: StudentRecord = await response.json()\n    setSelectedStudent(updated)\n    setStudents((prev) => prev.map((student) => (student.id === updated.id ? updated : student)))\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6\">\n      <header className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-6\">\n        <div>\n          <p className=\"text-xs uppercase tracking-wide text-slate-500\">Administrator tools</p>\n          <h1 className=\"text-3xl font-bold text-slate-900\">Admin Console</h1>\n          <p className=\"text-sm text-slate-600\">Enroll students, upload marks, and keep transcripts updated.</p>\n        </div>\n        <Link href=\"/\" className=\"text-sm font-semibold text-indigo-600\">\n          ← Back to portal\n        </Link>\n      </header>\n      {error && <p className=\"mb-4 rounded-lg bg-red-50 p-3 text-sm text-red-600\">{error}</p>}\n      <div className=\"max-w-6xl mx-auto grid gap-8 lg:grid-cols-3\">\n        <div className=\"lg:col-span-1\">\n          <AddStudentForm apiBase={apiBase} onAdd={handleStudentCreated} />\n          <StudentList\n            students={students}\n            selectedId={selectedStudent?.id}\n            onSelect={setSelectedStudent}\n            onRemove={handleRemoveStudent}\n            loading={loading}\n          />\n        </div>\n        <div className=\"lg:col-span-2\">\n          {selectedStudent ? (\n            <StudentDetails student={selectedStudent} onUpdateSubject={handleSubjectUpdate} />\n          ) : (\n            <div className=\"rounded-2xl bg-white p-10 text-center text-slate-500 shadow\">\n              Select a learner to edit their per-subject marks.\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}